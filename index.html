<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla PsicopedagogÃ­a UNLZ</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #fdf6f0; color: #333; padding: 20px; }
    h1 { color: #7a5c61; }
    .anio { margin-bottom: 40px; }
    .materia {
      display: inline-block;
      background: #fde2e4;
      border: 2px solid #f8c8dc;
      border-radius: 10px;
      padding: 8px 12px;
      margin: 5px;
      opacity: .5;
      cursor: default;
      transition: background .3s, opacity .3s;
    }
    .materia.activa {
      background: #bde0fe;
      border-color: #a2d2ff;
      opacity: 1;
      cursor: pointer;
    }
    .materia.aprobada {
      background: #caffbf;
      border-color: #b5e48c;
      text-decoration: line-through;
      opacity: 1;
    }
    button { margin-right: 10px; }
  </style>
</head>
<body>
  <h1>Malla Interactiva â€“ PsicopedagogÃ­a UNLZ</h1>
  <button id="reset">ðŸ”„ Reiniciar progreso</button>

  <!-- GeneraciÃ³n automÃ¡tica de la malla -->
  <div id="malla"></div>

  <script>
    const plan = [
      { aÃ±o: 1, id: 'filo', name: 'FilosofÃ­a', correlativas: [] },
      { aÃ±o: 1, id: 'historia_social', name: 'Historia Social General', correlativas: [] },
      { aÃ±o: 1, id: 'soc', name: 'IntroducciÃ³n a la SociologÃ­a', correlativas: [] },
      { aÃ±o: 1, id: 'psic_gen', name: 'PsicologÃ­a General', correlativas: [] },
      { aÃ±o: 1, id: 'practica', name: 'IntroducciÃ³n a la PrÃ¡ctica PsicopedagÃ³gica', correlativas: [] },
      { aÃ±o: 1, id: 'edu_intro', name: 'IntroducciÃ³n a la EducaciÃ³n', correlativas: [] },
      { aÃ±o: 1, id: 'taller_lec', name: 'Taller de Lectura y Escritura', correlativas: [] },
      // 2Âº aÃ±o
      { aÃ±o: 2, id: 'pedagogia', name: 'PedagogÃ­a', correlativas: [] },
      { aÃ±o: 2, id: 'bio_edu', name: 'Fundamentos BiolÃ³gicos para la EducaciÃ³n', correlativas: [] },
      { aÃ±o: 2, id: 'des_i', name: 'PsicologÃ­a del Desarrollo I', correlativas: [] },
      { aÃ±o: 2, id: 'psic_social', name: 'PsicologÃ­a Social', correlativas: [] },
      { aÃ±o: 2, id: 'antro', name: 'AntropologÃ­a Cultural', correlativas: [] },
      { aÃ±o: 2, id: 'des_ii', name: 'PsicologÃ­a del Desarrollo II', correlativas: ['des_i'] },
      { aÃ±o: 2, id: 'teorias', name: 'TeorÃ­as del Aprendizaje', correlativas: ['des_i','des_ii'] },
      { aÃ±o: 2, id: 'hist_edu', name: 'Historia de la EducaciÃ³n', correlativas: [] },
      // 3Âº aÃ±o
      { aÃ±o: 3, id: 'metod', name: 'MetodologÃ­a de la InvestigaciÃ³n Social', correlativas: [] },
      { aÃ±o: 3, id: 'psicoanalit', name: 'TeorÃ­as PsicoanalÃ­ticas ContemporÃ¡neas', correlativas: [] },
      { aÃ±o: 3, id: 'didactica_i', name: 'DidÃ¡ctica I', correlativas: [] },
      { aÃ±o: 3, id: 'ped_especial', name: 'PedagogÃ­a Especial', correlativas: [] },
      { aÃ±o: 3, id: 'neuroinf', name: 'Elementos de NeuropsicologÃ­a Infantil', correlativas: [] },
      { aÃ±o: 3, id: 'psicopat_i', name: 'PsicopatologÃ­a del Desarrollo I', correlativas: [] },
      // 4Âº aÃ±o
      { aÃ±o: 4, id: 'ling_sem', name: 'LingÃ¼Ã­stica y SemiÃ³tica', correlativas: [] },
      { aÃ±o: 4, id: 'epistemo', name: 'EpistemologÃ­a y PsicologÃ­a GenÃ©tica', correlativas: [] },
      { aÃ±o: 4, id: 'tecn_expl', name: 'TÃ©c. de ExploraciÃ³n PsicopedagÃ³gicas', correlativas: [] },
      { aÃ±o: 4, id: 'didactica_ii', name: 'DidÃ¡ctica II', correlativas: ['didactica_i'] },
      { aÃ±o: 4, id: 'leng_sint', name: 'Estudio del Lenguaje y sus Trastornos', correlativas: [] },
      { aÃ±o: 4, id: 'diagnostico', name: 'DiagnÃ³stico PsicopedagÃ³gico', correlativas: [] },
      { aÃ±o: 4, id: 'estrategias', name: 'Estrategias para Dificultades del Aprendizaje', correlativas: [] },
      { aÃ±o: 4, id: 'ped_instit', name: 'PedagogÃ­a Institucional', correlativas: [] },
      { aÃ±o: 4, id: 'clinica', name: 'ClÃ­nica PsicopedagÃ³gica', correlativas: [] },
      // 5Âº aÃ±o
      { aÃ±o: 5, id: 'psicoanalit_ninos', name: 'Abordaje PsicoanalÃ­tico en NiÃ±os y Adolescentes', correlativas: [] },
      { aÃ±o: 5, id: 'teoria_edu', name: 'TeorÃ­a de la EducaciÃ³n', correlativas: [] },
      { aÃ±o: 5, id: 'psicopat_ii', name: 'PsicopatologÃ­a del Desarrollo II', correlativas: ['psicopat_i'] },
      { aÃ±o: 5, id: 'optativa', name: 'Optativa', correlativas: [] },
      { aÃ±o: 5, id: 'idioma', name: 'Idioma Extranjero', correlativas: [] }
    ];

    let progreso = JSON.parse(localStorage.getItem('progUNLZ')) || [];
    const cont = document.getElementById('malla');

    function render() {
      cont.innerHTML = '';
      [1,2,3,4,5].forEach(anio => {
        const divA = document.createElement('div');
        divA.className = 'anio';
        divA.innerHTML = `<h2>${anio}Âº AÃ±o</h2>`;
        plan.filter(m => m.aÃ±o===anio).forEach(m => {
          const d = document.createElement('div');
          d.className = 'materia';
          d.textContent = m.name;
          d.dataset.id = m.id;
          d.dataset.cor = m.correlativas.join(',');
          if (progreso.includes(m.id)) d.classList.add('aprobada');
          else if (m.correlativas.every(r => progreso.includes(r))) {
            d.classList.add('activa');
            d.addEventListener('click', () => {
              progreso.push(m.id);
              localStorage.setItem('progUNLZ', JSON.stringify(progreso));
              render();
            });
          }
          divA.appendChild(d);
        });
        cont.appendChild(divA);
      });
    }

    document.getElementById('reset').onclick = () => {
      if(confirm('Â¿Reiniciar progreso?')) {
        progreso = [];
        localStorage.removeItem('progUNLZ');
        render();
      }
    };

    render();
  </script>
</body>
</html>
